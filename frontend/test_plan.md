# 财知道前端测试计划

本文档提供了财知道前端应用的分步测试指南，确保所有功能按预期工作。

## 1. 环境准备

```bash
# 安装依赖
npm install
# 或
yarn install

# 确保后端API正在运行
cd ../backend
uvicorn app.main:app --reload
```

## 2. 自动化测试套件

运行所有自动化测试：

```bash
npm test
# 或
yarn test
```

## 3. 组件测试

### 3.1 UI组件测试

```bash
# 运行UI组件测试
npm run test:components
# 或
yarn test:components
```

检查要点：
- 所有组件是否正确渲染
- 组件状态变化是否符合预期
- 组件交互是否正常

### 3.2 屏幕测试

```bash
# 运行屏幕测试
npm run test:screens
# 或
yarn test:screens
```

检查要点：
- 屏幕是否正确渲染
- 导航是否正常
- 屏幕状态管理是否正确

## 4. 功能模块测试

### 4.1 首页模块测试

手动测试首页功能：

1. 启动应用：`npm start` 然后 `npm run ios` 或 `npm run android`
2. 检查首页内容加载是否正常
3. 验证推荐内容是否显示
4. 检查内容卡片点击跳转是否正常
5. 测试下拉刷新功能
6. 验证轮播图（如有）是否正常工作

### 4.2 财经知识学习模块测试

手动测试学习模块：

1. 从底部导航进入学习模块
2. 检查学习内容分类是否正确
3. 验证按难度筛选功能是否正常
4. 点击学习卡片，检查详情页是否正常显示
5. 测试学习内容搜索功能
6. 检查学习进度记录功能（如有）

### 4.3 财经新闻模块测试

手动测试新闻模块：

1. 从底部导航进入新闻模块
2. 检查新闻列表加载是否正常
3. 验证新闻分类/标签筛选是否正常
4. 点击新闻项，检查新闻详情页是否正常显示
5. 测试新闻内容内的AI解读展示
6. 检查新闻分享功能（如有）

### 4.4 问答模块测试

手动测试问答模块：

1. 从底部导航进入问答模块
2. 检查常见问题列表加载是否正常
3. 点击问题，检查回答是否正常显示
4. 测试AI聊天功能：
   - 发送消息"什么是股票?"
   - 确认收到合理回复
   - 测试连续对话能力
5. 验证相关问题推荐功能

### 4.5 搜索功能测试

手动测试全局搜索：

1. 点击搜索图标或进入搜索页面
2. 输入搜索关键词"基金"
3. 验证搜索结果是否包含来自不同模块的内容
4. 测试搜索结果筛选功能
5. 点击搜索结果，检查是否正确跳转到对应内容页

## 5. 交叉功能测试

### 5.1 导航系统测试

1. 测试底部标签导航功能
2. 验证屏幕间导航和返回功能
3. 检查深层链接导航（如从首页直接进入特定内容）
4. 测试导航历史记录和回退

### 5.2 主题和外观测试

1. 测试浅色/深色模式切换（如支持）
2. 在不同屏幕尺寸的设备上测试响应式布局
3. 验证字体大小调整功能（如支持）

### 5.3 网络状态测试

1. 在正常网络环境下测试应用
2. 模拟弱网环境下测试应用响应
3. 切换到离线模式，验证应用的离线功能和提示

## 6. 兼容性测试

### 6.1 iOS设备测试

在以下iOS设备/模拟器上测试：
- iPhone SE (小屏幕)
- iPhone X/11/12/13 (中等屏幕)
- iPhone Plus/Pro Max (大屏幕)
- iPad (如支持)

### 6.2 Android设备测试

在以下Android设备/模拟器上测试：
- 小屏幕手机 (5寸以下)
- 中等屏幕手机 (5-6寸)
- 大屏幕手机 (6寸以上)
- 平板设备 (如支持)

### 6.3 操作系统版本测试

- iOS 14+
- Android 9+

## 7. 性能测试

### 7.1 启动时间测试

测量从点击应用图标到首页完全加载的时间

### 7.2 内存使用测试

监控应用在长时间使用后的内存占用情况

### 7.3 电池消耗测试

测试应用在前台和后台运行时的电池消耗

## 8. 回归测试

在每次主要功能更新后，运行以下回归测试：

1. 重复运行关键功能模块测试
2. 验证功能更新没有破坏现有功能
3. 检查UI一致性

## 测试报告模板

| 功能模块 | 测试项 | iOS状态 | Android状态 | 问题描述 |
|---------|-------|---------|------------|---------|
| 首页 | 内容加载 | ✅/❌ | ✅/❌ | |
| | 推荐内容 | ✅/❌ | ✅/❌ | |
| | 下拉刷新 | ✅/❌ | ✅/❌ | |
| 学习模块 | 内容分类 | ✅/❌ | ✅/❌ | |
| | 内容详情 | ✅/❌ | ✅/❌ | |
| | 搜索功能 | ✅/❌ | ✅/❌ | |
| 新闻模块 | 新闻列表 | ✅/❌ | ✅/❌ | |
| | 新闻详情 | ✅/❌ | ✅/❌ | |
| | AI解读 | ✅/❌ | ✅/❌ | |
| 问答模块 | 问题列表 | ✅/❌ | ✅/❌ | |
| | 问题详情 | ✅/❌ | ✅/❌ | |
| | AI聊天 | ✅/❌ | ✅/❌ | |
| 搜索功能 | 全局搜索 | ✅/❌ | ✅/❌ | |
| | 结果筛选 | ✅/❌ | ✅/❌ | |
| 导航 | 标签导航 | ✅/❌ | ✅/❌ | |
| | 页面跳转 | ✅/❌ | ✅/❌ | | 